<main>
    <div class="equipment-container">
        <p *ngIf="equipmentError" class="error-message">{{ equipmentError }}</p>
        <form [formGroup]="equipmentForm" (ngSubmit)="onSubmit()">
            <div class="form-group row">
                <div class="form-field" [appErrorHighlight]="!!equipmentError">
                    <label for="name">Equipment Name:</label>
                    <input id="name" formControlName="name" type="text" placeholder="Equipment name" />
                </div>
                <div class="form-field" [appErrorHighlight]="!!equipmentError">
                    <label for="model">Model:</label>
                    <input id="model" formControlName="model" type="text" placeholder="Model" />
                </div>
            </div>
            <div class="form-group row">
                <div class="form-field" [appErrorHighlight]="!!equipmentError">
                    <label for="category">Category:</label>
                    <input id="category" formControlName="category" type="text" placeholder="Category" />
                </div>
                <div class="form-field" [appErrorHighlight]="!!equipmentError">
                    <label for="purchasePrice">Purchase Price:</label>
                    <input id="purchasePrice" formControlName="purchasePrice" type="number"
                        placeholder="Purchase price" />
                </div>
            </div>
            <div class="form-group row">
                <div class="form-field" [appErrorHighlight]="!!equipmentError">
                    <label for="serialNumber">Serial Number:</label>
                    <input id="serialNumber" formControlName="serialNumber" type="text" placeholder="Serial number" />
                </div>
            </div>
            <div class="form-group row">
                <div class="form-field" [appErrorHighlight]="!!equipmentError">
                    <label for="picture">Equipment Picture:</label>
                    <input id="picture" type="file" #fileInput (change)="onFileChange($event)" />
                    <div *ngIf="imagePreviewUrl" class="image-preview">
                        <img [src]="imagePreviewUrl" alt="Image preview" style="height: 60px;" />
                    </div>
                </div>
            </div>
            <button type="submit" *ngIf="isEditMode">Update</button>
            <button type="submit" [disabled]="equipmentForm.invalid" *ngIf="!isEditMode">Create</button>
        </form>
    </div>
</main>